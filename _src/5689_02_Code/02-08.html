<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>02-08 :: Add Auto-incrementing IDs :: MooTools Recipes `(>>)^</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <script type="text/javascript" src="mootools-1.3.0.js"></script>
</head>
<body>

  <form action="javascript:" method="get">
    <input id="create" type="button" value="Increment Radio Buttons"/>
    <input id="extract" type="button" value="Get ID of Selected Radio"/>
    <br/>
    <div class="animals">
      Cat<br/>
      My Favorite <input class="rb" type="radio" name="favorite" value="Cat"/>
      <div class="sam-i-am"></div>
    </div>
    <div class="animals">
      Dog<br/>
      My Favorite <input class="rb" type="radio" name="favorite" value="Dog"/>
      <div class="sam-i-am"></div>
    </div>
    <div class="animals">
      Pig<br/>
      My Favorite <input class="rb" type="radio" name="favorite" value="Pig"/>
      <div class="sam-i-am"></div>
    </div>
  </form>

  <style type="text/css">.animals { width:150px; border:1px solid #BEBEBE; line-height:50px; text-align:center; float:left; margin-right:10px; }</style>

  <noscript>JavaScript is disabled.</noscript>
  <script type="text/javascript">
    $('extract').setStyle('visibility','hidden');
    $('create').addEvent('click', function() {
      // this is only meant to be fired once
      this.setStyle('visibility','hidden');
      $('extract').setStyle('visibility','visible');

      // A 
      // create unqiue ids that increment 
      $$('.rb').forEach(function(el,index) {
        el.set('id','favorite_'+index); 
      });

    });
    $('extract').addEvent('click', function() {
      var myid = 0;
      // have sam tell who he is (if selected)
      $$('.rb').forEach(function(el) {
        if(el.get('checked')!==false) {
          // the incrementer here will help us know
          // which span to populate
          myid = el.get('id').replace('favorite_','');
        }
      });

      // B
      // take advantage of our incrementing pattern
      $$('.sam-i-am').forEach(function(el,index) {
        el.set('text','');
        if (index===myid.toInt()) el.set('text','My ID: favorite_'+myid);
      });

    });
  </script>
</body>
</html>
