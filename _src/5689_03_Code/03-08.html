<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>03-08 :: Ajax Call returned into new DOM element :: MooTools Recipes `(>>)^</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <script type="text/javascript" src="mootools-1.3.0.js"></script>
</head>
<body>
  <form action="javascript:" method="get">
    <input type="button" id="mybutton" value="Ajax and Response!"
      onclick="ajax_it();"/>
  </form>
  <span id="put_it_here">Waiting for form submission...</span>
  <noscript>JavaScript is disabled.</noscript>
  <script type="text/javascript">

  // A
  // make a new ajax request
  var myJax = new Request({
    // A1
    // replace the value of url with your server-side script
    url: '?',  
    // A2
    onSuccess: function(response) {
      // if the ajax is allowed to be called twice, empty the div
      $('put_it_here').empty();

      // B
      // make a new DOM element
      var myDiv = new Element('div', {
        'id': 'put_it_here',
        'text': 'Thanks, we processed the form and here is the result: '+response
      }).replaces('put_it_here');

    }
  });
  function ajax_it() {
    myJax.send();
  }
  </script>
</body>
</html>
