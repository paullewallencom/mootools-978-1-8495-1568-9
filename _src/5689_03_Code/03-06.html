<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>03-06 :: Inject a TABLE :: MooTools Recipes `(>>)^</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <script type="text/javascript" src="mootools-1.3.0.js"></script>
</head>
<body>

  <h1>World's Coolest Superheroes</h1>

  <form action="javascript:" method="get" id="my_form">
    <input id="submit" type="button" value="Add a TABLE"/>
  </form>

  <noscript>JavaScript is disabled.</noscript>
  <script type="text/javascript">
    var other_heroes = ['Spider-Man', 'Iron Man', 'Hulk', 'Captain America', 'Daredevil', 'Wolverine', 'Squirrel Girl']; 
    var next = 0;
    var total = other_heroes.length;
    $('submit').addEvent('click', function() { add_hero_table(); });
    function add_hero_table() {
  
      // create a new table element
      var my_hero_table = new Element('table',{ 'border':1 });

      // for each hero, build a tr with a td in it for each hero
      other_heroes.forEach(function(hero) {
        // inject, via grab(), each new tr element
        my_hero_table.grab(add_hero(hero));
      });
      // introduce the table to the dom by replacing the form
      my_hero_table.replaces('my_form');
    }
    function add_hero(hero) {
      // create a table row (td) element
      var new_hero = new Element('td', {'text':hero}); 
      // create a table row (tr) element to hold the td element
      var new_hero_row = new Element('tr'); 
      // inject our td into our tr
      new_hero_row.grab(new_hero);
      // send it to the requestor
      return new_hero_row;
    }
  </script>
</body>
</html>
