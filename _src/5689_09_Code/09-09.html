<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>09-09 :: Showing an alert if an Ajax call fails :: MooTools Recipes `(>>)^</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <script type="text/javascript" src="mootools-1.3.0.js"></script>
</head>
<body>
  <form action="" method="get">
    <input type="button" id="mybutton" value="Ajax!"/>
  </form>
  <noscript>JavaScript is disabled.</noscript>
  <script type="text/javascript">
  var myJax = new Request({
    url: 'http://incorrectdomain.com/nofileexists',
    onFailure: function() {
      alert('error connecting, Ajax call has failed :(');
    },
    onSuccess: function(response) {
      alert('Success! Here is the response:       '+response);
    }
  });
  $('mybutton').addEvent('click', function ajax_it() {

    myJax.send();

  });
  </script>
</body>
</html>
